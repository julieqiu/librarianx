version: v0.5.0
language: python

container:
  image: us-central1-docker.pkg.dev/cloud-sdk-librarian-prod/images-prod/python-librarian-generator
  tag: latest

sources:
  googleapis:
    url: https://github.com/googleapis/googleapis/archive/9fcfbea0aa5b50fa22e190faceb073d74504172b.tar.gz
    sha256: 81e6057ffd85154af5268c2c3c8f2408745ca0f7fa03d43c68f4847f31eb5f98

generate:
  output_dir: packages/
  defaults:
    transport: grpc+rest
    rest_numeric_enums: true
    release_level: stable

release:
  tag_format: '{name}/v{version}'

libraries:
  - name: google-cloud-secret-manager
    version: 2.20.0
    generate:
      apis:
        - path: google/cloud/secretmanager/v1
          name_pretty: "Secret Manager"
          product_documentation: "https://cloud.google.com/secret-manager/docs"
          release_level: stable
        - path: google/cloud/secretmanager/v1beta2
          release_level: preview

  - name: google-cloud-pubsub
    version: 2.23.0
    generate:
      apis:
        - path: google/cloud/pubsub/v1
          grpc_service_config: pubsub_grpc_service_config.json
          service_yaml: pubsub_v1.yaml
          name_pretty: "Cloud Pub/Sub"
          product_documentation: "https://cloud.google.com/pubsub/docs"
          release_level: stable
          transport: grpc+rest
          rest_numeric_enums: true
          opt_args:
            - warehouse-package-name=google-cloud-pubsub
      keep:
        - README.rst
        - docs/

  - name: google-cloud-spanner
    version: 3.49.0
    generate:
      apis:
        - path: google/spanner/v1
          name_pretty: "Cloud Spanner"
          product_documentation: "https://cloud.google.com/spanner/docs"
          release_level: stable
        - path: google/spanner/admin/database/v1
        - path: google/spanner/admin/instance/v1
