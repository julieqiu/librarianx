version: v1
language: go
container:
    image: us-central1-docker.pkg.dev/cloud-sdk-librarian-prod/images-prod/librarian-go@sha256
    tag: f2cbb6b904fdbf086efec0100536c52a79a654a5b9df21f975a2b6f6d50395a4
global:
    files_allowlist:
        - path: internal/generated/snippets/go.mod
          permissions: read-write
        - path: CHANGES.md
          permissions: read-write
defaults:
    output: ./
    one_library_per: service
    transport: grpc+rest
    rest_numeric_enums: true
release:
    tag_format: '{name}/v{version}'
libraries:
    - '*'
    - auth/:
        release:
            disabled: true
    - auth/oauth2adapt/:
        release:
            disabled: true
    - batch/:
        keep:
            - ^batch/apiv1/iam_policy_client\.go$
    - bigquery/:
        keep:
            - ^internal/generated/snippets/bigquery/v2/
        release:
            disabled: true
    - bigquery/v2/:
        release:
            disabled: true
    - bigtable/:
        release:
            disabled: true
    - compute/metadata/:
        release:
            disabled: true
    - datacatalog/:
        keep:
            - ^datacatalog/apiv1/iam_policy_client\.go$
    - datastore/:
        release:
            disabled: true
    - datastream/:
        keep:
            - ^datastream/apiv1/iam_policy_client\.go$
    - errorreporting/:
        release:
            disabled: true
    - firestore/:
        release:
            disabled: true
    - logging/:
        release:
            disabled: true
    - longrunning/:
        release:
            disabled: true
    - profiler/:
        release:
            disabled: true
    - pubsub/:
        release:
            disabled: true
    - pubsub/v2/:
        release:
            disabled: true
    - pubsublite/:
        release:
            disabled: true
    - civil/:
        release:
            disabled: true
        source_roots:
            - civil
            - httpreplay
            - internal
            - rpcreplay
    - run/:
        keep:
            - ^run/apiv2/locations_client\.go$
    - spanner/:
        release:
            disabled: true
    - storage/:
        release:
            disabled: true
    - vertexai/:
        release:
            disabled: true
    - vmmigration/:
        keep:
            - ^vmmigration/apiv1/iam_policy_client\.go$
